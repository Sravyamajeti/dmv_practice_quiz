[build]
  publish = "frontend"
  functions = "netlify/functions"

# Redirect API requests to the FastAPI backend (main.py)
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/main/api/:splat"
  status = 200
  force = true

# Redirect static asset requests to the root (since we publish 'frontend')
# Local: /static/style.css -> Netlify: /style.css
[[redirects]]
  from = "/static/*"
  to = "/:splat"
  status = 200

# Fallback for SPA (if we had client-side routing, unnecessary here but good practice)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
